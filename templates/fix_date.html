<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥ç¨‹ã‚’ç¢ºå®š - AIå¹¹äº‹ãã‚“</title>
    <style>
        body { font-family: -apple-system, sans-serif; background: #f4f5f7; padding: 15px; text-align: center; color: #333; }
        .card { background: white; border-radius: 24px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); max-width: 450px; margin: auto; }
        .status-box { background: #fff3e0; border: 1px solid #ffe0b2; border-radius: 16px; padding: 15px; margin-bottom: 20px; text-align: left; }
        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin: 25px 0; }
        
        /* å€™è£œæ—¥ãƒœã‚¿ãƒ³ */
        .fix-btn { border: 2px solid #eee; padding: 15px 10px; border-radius: 16px; cursor: pointer; background: white; text-align: center; transition: 0.2s; position: relative; }
        .fix-btn.best { border-color: #ff9800; background: #fffde7; }
        .fix-btn.selected { border-color: #00c853; background: #e8f5e9; transform: scale(1.02); }
        
        .ok-count { display: block; font-size: 0.75rem; color: #ff9800; font-weight: bold; margin-bottom: 4px; }
        .submit-btn { width: 100%; padding: 20px; background: #ff9800; color: white; border: none; border-radius: 40px; font-weight: bold; font-size: 1.1rem; cursor: pointer; }
        
        .footer-links { margin-top: 25px; font-size: 0.75rem; color: #bbb; }
    </style>
</head>
<body>
    <div class="card">
        <h2 style="color:#ff9800; margin-top:0;">ğŸ† æ—¥ç¨‹ã®æœ€çµ‚æ±ºå®š</h2>
        
        <div class="status-box">
            <p style="margin:0; font-size: 0.85rem; color: #e65100;">
                <b>ç¾åœ¨ã®é›†è¨ˆçŠ¶æ³:</b><br>
                å…¨å“¡ã®å›ç­”ãŒæƒã„ã¾ã—ãŸã€‚æœ€ã‚‚ã€ŒOKã€ãŒå¤šã„æ—¥ã«ã¯ç‹å† ãƒãƒ¼ã‚¯ãŒã¤ã„ã¦ã„ã¾ã™ã€‚
            </p>
        </div>

        <div class="grid" id="fixGrid">
            </div>

        <button class="submit-btn" onclick="confirmDecision()">æ±ºå®šã—ã¦å…¨å“¡ã«é€šçŸ¥ã™ã‚‹</button>
    </div>

    <div class="footer-links">
        <a href="/privacy-policy" style="color:#bbb; text-decoration:none;">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
    </div>

    <script>
        // æœ¬æ¥ã¯ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å–å¾—ã™ã‚‹é›†è¨ˆçµæœï¼ˆä¾‹ï¼‰
        const summary = [
            { date: "12/30", time: "19:00", ok: 5, total: 5 },
            { date: "12/30", time: "21:00", ok: 3, total: 5 },
            { date: "12/31", time: "18:00", ok: 4, total: 5 },
            { date: "1/1", time: "19:00", ok: 2, total: 5 }
        ];

        const grid = document.getElementById('fixGrid');
        let selectedSlot = null;

        summary.forEach(item => {
            const btn = document.createElement('div');
            btn.className = 'fix-btn';
            if (item.ok === item.total) btn.classList.add('best');
            
            btn.innerHTML = `
                <span class="ok-count">${item.ok === item.total ? 'ğŸ‘‘ å…¨å“¡OK' : item.ok + 'åãŒå‚åŠ å¯èƒ½'}</span>
                <span style="font-size:0.8rem;">${item.date}</span><br>
                <b>${item.time}ã€œ</b>
            `;

            btn.onclick = () => {
                document.querySelectorAll('.fix-btn').forEach(b => b.classList.remove('selected'));
                btn.classList.add('selected');
                selectedSlot = item;
            };
            grid.appendChild(btn);
        });

        function confirmDecision() {
            if (!selectedSlot) {
                alert("æ±ºå®šã™ã‚‹æ—¥ç¨‹ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚");
                return;
            }
            alert(`ã€æ—¥ç¨‹ç¢ºå®šã€‘\n${selectedSlot.date} ${selectedSlot.time}ã€œã«æ±ºå®šã—ã¾ã—ãŸï¼\nLINEã§å…¨å“¡ã«é€šçŸ¥ã‚’é£›ã°ã—ã¾ã™ã€‚`);
            // ã“ã“ã§ã‚µãƒ¼ãƒãƒ¼ã«æ±ºå®šé€šçŸ¥ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹
            window.close();
        }
    </script>
</body>
</html>
